Mapping and filtering

There's only one pending issue: if the original array has some missing elements, they should be skipped during the loop: